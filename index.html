<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
    <title>Crooked Billet Collection</title>
    <style>
        /* =================================================== */
        /*                 EASY CONFIGURATION                 */
        /* =================================================== */
        /*
        To modify settings, change the values in the JavaScript 
        CONFIG object at the top of the script section below.
        
        You can easily change:
        - Reveal date and time
        - GitHub repository URL
        - Picture collections and descriptions
        - Collection names and titles
        - Instruction content for each collection
        - PDF download file name
        */
        
        /* =================================================== */
        /*                   CSS RESET                        */
        /* =================================================== */
        /* Global reset to ensure consistent styling across browsers */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* =================================================== */
        /*                  BODY STYLING                      */
        /* =================================================== */
        /* Main body container with gradient background and flex layout */
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            overflow-x: hidden;
        }

        /* =================================================== */
        /*                MAIN MENU STYLES                    */
        /* =================================================== */
        /* Container for the main menu screen */
        .main-menu {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 80vh;
            width: 100%;
            max-width: 600px;
            text-align: center;
        }

        /* Main title styling with gradient text effect */
        .main-title {
            color: white;
            font-size: clamp(2.5rem, 8vw, 4rem);
            font-weight: 800;
            margin-bottom: 2rem;
            text-shadow: 3px 3px 12px rgba(0,0,0,0.4);
            letter-spacing: -0.02em;
            animation: fadeInUp 0.8s ease-out;
        }

        /* Subtitle text below main title */
        .main-subtitle {
            color: rgba(255, 255, 255, 0.9);
            font-size: clamp(1rem, 3vw, 1.3rem);
            margin-bottom: 3rem;
            font-weight: 400;
            animation: fadeInUp 0.8s ease-out 0.2s both;
        }

        /* Container for menu buttons */
        .menu-buttons {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            width: 100%;
            max-width: 400px;
        }

        /* Individual menu button styling with glassmorphism effect */
        .menu-btn {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.2);
            padding: 1.2rem 2rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: clamp(1.1rem, 3vw, 1.3rem);
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            letter-spacing: 0.5px;
            position: relative;
            overflow: hidden;
        }

        /* Shimmer effect for menu buttons */
        .menu-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        /* Menu button hover effects */
        .menu-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.2);
            background: rgba(255, 255, 255, 0.25);
            border-color: rgba(255, 255, 255, 0.4);
        }

        .menu-btn:hover::before {
            left: 100%;
        }

        /* Menu button active state */
        .menu-btn:active {
            transform: translateY(-1px);
        }

        /* Fade-in animation keyframes */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* =================================================== */
        /*              INSTRUCTIONS PAGE STYLES              */
        /* =================================================== */
        /* Main container for instructions screens */
        .instructions-section {
            width: 100%;
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
            text-align: center;
        }

        /* Content box for instructions with glassmorphism */
        .instructions-container {
            width: 100%;
            max-width: 800px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            padding: 40px;
            margin: 20px 0;
        }

        /* Instructions page title styling */
        .instructions-title {
            color: #333;
            font-size: clamp(2rem, 6vw, 3rem);
            font-weight: 800;
            margin-bottom: 30px;
            text-align: center;
            letter-spacing: -0.02em;
        }

        /* Instructions text content styling */
        .instructions-content {
            color: #555;
            font-size: clamp(1.1rem, 2.5vw, 1.3rem);
            line-height: 1.6;
            margin-bottom: 40px;
            text-align: left;
        }

        /* Instructions subheading styling */
        .instructions-content h3 {
            color: #333;
            font-size: clamp(1.3rem, 3vw, 1.5rem);
            font-weight: 700;
            margin-bottom: 15px;
            margin-top: 25px;
        }

        /* Instructions list styling */
        .instructions-content ul {
            margin: 15px 0;
            padding-left: 25px;
        }

        .instructions-content li {
            margin-bottom: 8px;
        }

        /* Container for instruction page buttons */
        .instructions-buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Primary instruction button styling */
        .instructions-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            min-width: 150px;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }

        /* Instruction button hover effect */
        .instructions-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(102, 126, 234, 0.4);
        }

        .instructions-btn:active {
            transform: translateY(0);
        }

        /* Secondary instruction button variant */
        .instructions-btn.secondary {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(102, 126, 234, 0.3);
            color: #667eea;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }

        .instructions-btn.secondary:hover {
            background: rgba(102, 126, 234, 0.1);
            border-color: rgba(102, 126, 234, 0.5);
            box-shadow: 0 15px 35px rgba(0,0,0,0.15);
        }

        /* =================================================== */
        /*                SLIDESHOW STYLES                    */
        /* =================================================== */
        /* Main slideshow section container */
        .slideshow-section {
            width: 100%;
            display: flex;
            align-items: center;
            flex-direction: column;
            justify-content: center;
            min-height: 100vh;
            padding: 20px 0;
        }

        /* Slideshow title (clickable to return to menu) */
        .slideshow-title {
            color: white;
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            width: 100%;
            max-width: 800px;
            letter-spacing: -0.02em;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .slideshow-title:hover {
            transform: scale(1.02);
            text-shadow: 3px 3px 12px rgba(0,0,0,0.5);
        }

        /* Main slideshow container with white background */
        .slideshow-container {
            width: 100%;
            max-width: 900px;
            position: relative;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
            backdrop-filter: blur(10px);
            height: min(85vh, 700px);
            display: flex;
            flex-direction: column;
        }

        /* Wrapper for slides with touch handling */
        .slides-wrapper {
            position: relative;
            overflow: hidden;
            touch-action: pan-x;
            user-select: none;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        /* Container that holds all slides horizontally */
        .slides-container {
            display: flex;
            width: 100%;
            height: 100%;
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Individual slide styling */
        .slide {
            position: relative;
            text-align: center;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            width: 100%;
            flex-shrink: 0;
            height: 100%;
        }

        /* Slide number indicator in top-right corner */
        .slide-number {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
            z-index: 2;
            backdrop-filter: blur(10px);
        }

        /* =================================================== */
        /*                CLUE BUTTON STYLES                  */
        /* =================================================== */
        /* Yellow lightbulb clue button in top-left corner */
        .clue-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            width: 40px;
            height: 40px;
            background: rgba(255, 193, 7, 0.9);
            border: none;
            border-radius: 50%;
            cursor: pointer;
            z-index: 3;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 193, 7, 0.3);
        }

        .clue-btn:hover {
            transform: scale(1.1);
            background: rgba(255, 193, 7, 1);
            box-shadow: 0 6px 20px rgba(255, 193, 7, 0.5);
        }

        .clue-btn:active {
            transform: scale(0.95);
        }

        .clue-btn svg {
            width: 20px;
            height: 20px;
            fill: #333;
        }

        .clue-btn.hidden {
            display: none;
        }

        /* =================================================== */
        /*               ANSWER BUTTON STYLES                 */
        /* =================================================== */
        /* Green "Show Answer" button at bottom of slide */
        .answer-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            margin-top: 10px;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-width: 120px;
            align-self: center;
        }

        .answer-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 167, 69, 0.4);
            background: linear-gradient(135deg, #218838 0%, #1e7e34 100%);
        }

        .answer-btn:active {
            transform: translateY(0);
        }

        .answer-btn svg {
            width: 16px;
            height: 16px;
            fill: white;
        }

        /* =================================================== */
        /*                  MODAL STYLES                      */
        /* =================================================== */
        /* Modal overlay for clues and answers */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
            padding: 20px;
        }

        /* Modal content box */
        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 20px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: modalSlideIn 0.3s ease-out;
            max-height: 80vh;
            overflow-y: auto;
        }

        /* Modal slide-in animation */
        @keyframes modalSlideIn {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        /* Modal title with icon */
        .modal-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .modal-title svg {
            width: 24px;
            height: 24px;
        }

        /* Clue modal icon color */
        .modal-title.clue-title svg {
            fill: #ffc107;
        }

        /* Answer modal icon color */
        .modal-title.answer-title svg {
            fill: #28a745;
        }

        /* Modal text content */
        .modal-text {
            font-size: 1.1rem;
            color: #555;
            line-height: 1.6;
            margin-bottom: 25px;
        }

        /* Answer text styling (bold when revealed) */
        .modal-text.answer-text {
            font-weight: 600;
            color: #333;
            font-size: 1.2rem;
        }

        /* Additional info section in modals */
        .modal-info {
            font-size: 1rem;
            color: #666;
            line-height: 1.5;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
            font-style: italic;
        }

        /* Modal close button */
        .modal-close {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        /* =================================================== */
        /*               SLIDE IMAGE STYLES                   */
        /* =================================================== */
        /* Container for slide images */
        .slide-image-container {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            overflow: hidden;
            min-height: 0;
        }

        /* Slide image styling */
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            cursor: pointer;
            transition: transform 0.2s ease;
        }

        .slide img:active {
            transform: scale(0.98);
        }

        /* =================================================== */
        /*              FULLSCREEN OVERLAY STYLES             */
        /* =================================================== */
        /* Fullscreen image overlay */
        .fullscreen-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 2000; /* Higher z-index to ensure it's above everything */
            cursor: pointer;
            backdrop-filter: blur(5px);
            touch-action: manipulation; /* Allow pinch-zoom on mobile */
        }

        /* Fullscreen image styling with zoom capability */
        .fullscreen-image {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 95%;
            max-height: 95%;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 0 50px rgba(255,255,255,0.2);
            cursor: default; /* Reset cursor for image */
            touch-action: manipulation; /* Enable pinch-zoom */
        }

        /* Fullscreen close button */
        .fullscreen-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 30px;
            font-weight: bold;
            cursor: pointer;
            z-index: 2001;
            background: rgba(0,0,0,0.7);
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .fullscreen-close:hover {
            background: rgba(0,0,0,0.9);
            transform: scale(1.1);
        }

        /* =================================================== */
        /*               SLIDE BOTTOM SECTION                 */
        /* =================================================== */
        /* Container for answer button at bottom of slide */
        .slide-bottom-section {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex-shrink: 0;
        }

        /* =================================================== */
        /*               NAVIGATION STYLES                    */
        /* =================================================== */
        /* Bottom navigation bar with prev/next buttons */
        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            gap: 15px;
            flex-shrink: 0;
        }

        /* Navigation buttons (prev/next) */
        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 14px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 15px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 100px;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .nav-btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
        }

        /* Disabled navigation button styling */
        .nav-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Slide counter display */
        .slide-counter {
            font-weight: 600;
            color: #333;
            font-size: 16px;
            white-space: nowrap;
            background: rgba(255, 255, 255, 0.8);
            padding: 8px 16px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }

        /* =================================================== */
        /*                 DOT NAVIGATION                      */
        /* =================================================== */
        /* Container for dot navigation at bottom */
        .dots-container {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            overflow-x: auto;
            white-space: nowrap;
            flex-shrink: 0;
        }

        /* Individual navigation dots */
        .dot {
            height: 10px;
            width: 10px;
            margin: 0 4px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Active and hover dot styling */
        .dot:hover, .dot.active {
            background-color: #667eea;
            transform: scale(1.4);
        }

        /* =================================================== */
        /*               SWIPE INDICATOR                       */
        /* =================================================== */
        /* Animated swipe instruction text */
        .swipe-indicator {
            position: absolute;
            bottom: 150px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(255, 255, 255, 0.7);
            font-size: 14px;
            animation: fadeInOut 3s infinite;
            pointer-events: none;
            z-index: 10;
        }

        /* Fade in/out animation for swipe indicator */
        @keyframes fadeInOut {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }

        /* =================================================== */
        /*               UTILITY CLASSES                       */
        /* =================================================== */
        /* Hide elements completely */
        .hidden {
            display: none !important;
        }

        /* =================================================== */
        /*               RESPONSIVE DESIGN                     */
        /* =================================================== */

        /* Desktop specific styles (1024px and above) */
        @media (min-width: 1024px) {
            body {
                padding: 20px;
            }
            
            .slideshow-container {
                max-width: 1000px;
                height: 80vh;
                min-height: 600px;
                max-height: 800px;
            }
            
            .slide {
                padding: 25px;
            }
        }

        /* Tablet and mobile optimizations (768px and below) */
        @media (max-width: 768px) {
            body {
                padding: 5px;
            }

            .main-menu {
                min-height: 70vh;
                padding: 2rem 1rem;
            }

            .menu-buttons {
                gap: 1rem;
            }

            .menu-btn {
                padding: 1rem 1.5rem;
            }

            .slideshow-container {
                border-radius: 15px;
                margin: 0;
                height: 90vh;
                min-height: auto;
            }
            
            .slide {
                padding: 15px;
            }

            .slide img {
                margin-bottom: 8px;
            }
            
            .nav-btn {
                padding: 12px 16px;
                font-size: 14px;
                min-width: 80px;
            }

            .slide-counter {
                font-size: 14px;
                padding: 6px 12px;
            }

            .answer-btn {
                padding: 10px 16px;
                font-size: 13px;
                min-width: 100px;
            }

            .slide-number {
                top: 15px;
                right: 15px;
                padding: 6px 12px;
                font-size: 12px;
            }

            .clue-btn {
                width: 35px;
                height: 35px;
                top: 15px;
                left: 15px;
            }

            .clue-btn svg {
                width: 18px;
                height: 18px;
            }

            .dots-container {
                padding: 15px 10px;
            }

            .dot {
                height: 8px;
                width: 8px;
                margin: 0 3px;
            }

            .instructions-container {
                padding: 30px 25px;
                margin: 10px;
            }
            
            .instructions-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .instructions-btn {
                width: 100%;
                max-width: 280px;
            }

            .modal-content {
                padding: 25px;
                margin: 10px;
            }
        }

        /* Small mobile optimizations (480px and below) */
        @media (max-width: 480px) {
            .navigation {
                padding: 15px;
                gap: 10px;
            }

            .nav-btn {
                padding: 10px 12px;
                font-size: 13px;
                min-width: 70px;
            }

            .slide-counter {
                font-size: 13px;
                padding: 5px 10px;
            }

            .instructions-container {
                padding: 25px 20px;
            }
            
            .instructions-content {
                font-size: 1rem;
            }

            .modal-content {
                padding: 20px;
            }

            .answer-btn {
                padding: 8px 12px;
                font-size: 12px;
                min-width: 90px;
            }
        }
    </style>
</head>
<body>
    <!-- =================================================== -->
    <!--                  MAIN MENU SCREEN                  -->
    <!-- =================================================== -->
    <!-- Landing page with title and navigation buttons -->
    <div class="main-menu" id="main-menu">
        <h1 class="main-title">Crooked Billet</h1>
        <p class="main-subtitle">Pick A Table Top</p>
        <div class="menu-buttons">
            <!-- Set 1 button - dynamically populated from CONFIG -->
            <button class="menu-btn" onclick="showInstructions('set1')">Set1</button>
            <!-- Set 2 button - dynamically populated from CONFIG -->
            <button class="menu-btn" onclick="showInstructions('set2')">Set2</button>
            <!-- PDF Download button - downloads file from GitHub -->
            <button class="menu-btn" onclick="downloadPDF()">Download PDF</button>
        </div>
    </div>

    <!-- =================================================== -->
    <!--              INSTRUCTIONS PAGE 1                   -->
    <!-- =================================================== -->
    <!-- Instructions screen for Set 1 -->
    <div class="instructions-section hidden" id="instructions-set1">
        <div class="instructions-container">
            <h2 class="instructions-title">Set 1</h2>
            <!-- Instructions content - dynamically populated from CONFIG -->
            <div class="instructions-content">
                <h3>How to Play:</h3>
                <ul>
                    <li>Instruction1</li>
                </ul>
            </div>
            <!-- Action buttons for instructions page -->
            <div class="instructions-buttons">
                <button class="instructions-btn" onclick="startSlideshow('set1')">Start Slideshow</button>
                <button class="instructions-btn secondary" onclick="showMainMenu()">Back to Menu</button>
            </div>
        </div>
    </div>

    <!-- =================================================== -->
    <!--                SLIDESHOW SECTION 1                 -->
    <!-- =================================================== -->
    <!-- Main slideshow interface for Set 1 -->
    <div class="slideshow-section hidden" id="slideshow-set1">
        <!-- Clickable title returns to main menu -->
        <h1 class="slideshow-title" onclick="showMainMenu()">Set1</h1>
        
        <!-- Animated swipe instruction indicator -->
        <div class="swipe-indicator" id="swipeIndicator1">← Swipe to navigate →</div>
        
        <!-- Main slideshow container -->
        <div class="slideshow-container">
            <!-- Slides wrapper with touch handling -->
            <div class="slides-wrapper" id="slides-wrapper1">
                <!-- Container for all slides (populated by JavaScript) -->
                <div class="slides-container" id="slides-container1"></div>
            </div>
            
            <!-- Bottom navigation bar -->
            <div class="navigation">
                <button class="nav-btn" onclick="changeSlide(-1)" id="prevBtn1">
                    ◀ Prev
                </button>
                <div class="slide-counter">
                    <span id="current-slide1">1</span> / <span id="total-slides1">25</span>
                </div>
                <button class="nav-btn" onclick="changeSlide(1)" id="nextBtn1">
                    Next ▶
                </button>
            </div>
            
            <!-- Dot navigation indicators -->
            <div class="dots-container" id="dots-container1"></div>
        </div>
    </div>

    <!-- =================================================== -->
    <!--              INSTRUCTIONS PAGE 2                   -->
    <!-- =================================================== -->
    <!-- Instructions screen for Set 2 -->
    <div class="instructions-section hidden" id="instructions-set2">
        <div class="instructions-container">
            <h2 class="instructions-title">Set2</h2>
            <!-- Instructions content - dynamically populated from CONFIG -->
            <div class="instructions-content">
                <h3>How to Play:</h3>
                <ul>
                    <li>Instruction2</li>
                </ul>
            </div>
            <!-- Action buttons for instructions page -->
            <div class="instructions-buttons">
                <button class="instructions-btn" onclick="startSlideshow('set2')">Start Slideshow</button>
                <button class="instructions-btn secondary" onclick="showMainMenu()">Back to Menu</button>
            </div>
        </div>
    </div>

    <!-- =================================================== -->
    <!--                SLIDESHOW SECTION 2                 -->
    <!-- =================================================== -->
    <!-- Main slideshow interface for Set 2 -->
    <div class="slideshow-section hidden" id="slideshow-set2">
        <!-- Clickable title returns to main menu -->
        <h1 class="slideshow-title" onclick="showMainMenu()">Set2</h1>
        
        <!-- Animated swipe instruction indicator -->
        <div class="swipe-indicator" id="swipeIndicator2">← Swipe to navigate →</div>
        
        <!-- Main slideshow container -->
        <div class="slideshow-container">
            <!-- Slides wrapper with touch handling -->
            <div class="slides-wrapper" id="slides-wrapper2">
                <!-- Container for all slides (populated by JavaScript) -->
                <div class="slides-container" id="slides-container2"></div>
            </div>
            
            <!-- Bottom navigation bar -->
            <div class="navigation">
                <button class="nav-btn" onclick="changeSlide(-1)" id="prevBtn2">
                    ◀ Prev
                </button>
                <div class="slide-counter">
                    <span id="current-slide2">1</span> / <span id="total-slides2">10</span>
                </div>
                <button class="nav-btn" onclick="changeSlide(1)" id="nextBtn2">
                    Next ▶
                </button>
            </div>
            
            <!-- Dot navigation indicators -->
            <div class="dots-container" id="dots-container2"></div>
        </div>
    </div>

    <!-- =================================================== -->
    <!--               FULLSCREEN OVERLAY                   -->
    <!-- =================================================== -->
    <!-- Fullscreen image viewer with zoom capability -->
    <div class="fullscreen-overlay" id="fullscreen-overlay" onclick="closeFullscreen()">
        <!-- Close button -->
        <div class="fullscreen-close" onclick="closeFullscreen()">&times;</div>
        <!-- Fullscreen image with pinch-zoom enabled -->
        <img class="fullscreen-image" id="fullscreen-image" src="" alt="">
    </div>

    <!-- =================================================== -->
    <!--                UNIVERSAL MODAL                     -->
    <!-- =================================================== -->
    <!-- Modal popup for clues and answers -->
    <div class="modal" id="modal" onclick="closeModal()">
        <div class="modal-content" onclick="event.stopPropagation()">
            <!-- Modal title with icon -->
            <h3 class="modal-title" id="modal-title"></h3>
            <!-- Main modal text content -->
            <div class="modal-text" id="modal-text"></div>
            <!-- Additional info section -->
            <div class="modal-info" id="modal-info"></div>
            <!-- Close button -->
            <button class="modal-close" onclick="closeModal()">Got it!</button>
        </div>
    </div>

    <script>
        /* ===================================================== */
        /*              📋 EASY CONFIGURATION                   */
        /* ===================================================== */
        
        const CONFIG = {
            // 🕐 REVEAL DATE & TIME
            // Format: 'YYYY-MM-DD HH:MM:SS'
            revealDateTime: '2025-09-05 21:00:00',
            
            // 🌐 GITHUB REPOSITORY URL
            // Your GitHub Pages base URL (include trailing slash)
            githubBaseUrl: 'https://philipestevenson-rumham.github.io/CrookedBillet/',
            
            // 📄 PDF DOWNLOAD FILENAME
            // Name of PDF file to download from GitHub repository
            pdfFileName: 'CrookedBillet.pdf',
            
            // 📖 INSTRUCTION CONTENT
            // Customize the instructions for each collection
            instructions: {
                set1: {
                    title: 'Mixed Up Michaels 1',
                    content: {
                        howToPlay: [
                            'Look at each image carefully',
                            'Try to identify which famous Michael is shown',
                            'Click the lightbulb icon for a clue if you need help',
                            'Click the "Show Answer" button to reveal the answer',
                            'Use the navigation buttons or swipe to move between images',
                            'Click any image to view it in fullscreen with zoom capability'
                        ]
                    }
                },
                set2: {
                    title: 'OCD Famous Movie Quotes 04',
                    content: {
                        howToPlay: [
                            'Look at each image carefully',
                            'Try to identify which famous Michael is shown',
                            'Click the lightbulb icon for a clue if you need help',
                            'Click the "Show Answer" button to reveal the answer',
                            'Use the navigation buttons or swipe to move between images',
                            'Click any image to view it in fullscreen with zoom capability'
                        ]
                    }
                }
            },
            
            // 🖼️ PICTURE COLLECTIONS
            collections: {
                set1: {
                    title: 'Mixed Up Michaels 1',
                    buttonText: 'Mixed Up Michaels 1',
                    pictures: [
                        { filename: '01 - Michael Owen.png', description: 'Michael Owen', info: 'Former England striker who played for Liverpool and Real Madrid, he once fought a giant space monkey over the distribution rights to his gangster rap debut album.'},
                        { filename: '02 - Michael Jackson.png', description: 'Michael Jackson', clue: 'The King of Pop who moonwalked his way into music history', info: 'Known as the King of Pop, he was one of the most significant cultural figures of the 20th century' },
                        { filename: '03 - Michael Douglas.png', description: 'Michael Douglas', info: 'Hollywood actor who starred in Wall Street and Fatal Attraction'},
                        { filename: '04 - Michael Mcintyre.png', description: 'Michael McIntyre', clue: 'British comedian known for his observational humor and wild hair', info: 'Popular British comedian known for his energetic stand-up performances and TV shows' },
                        { filename: '05 - Michael Barrymore.png', description: 'Michael Barrymore', clue: 'TV presenter who hosted Strike It Lucky and My Kind of Music', info: 'British entertainer who was one of the most popular TV presenters in the 1990s' },
                        { filename: '06 - Michael Flatley.png', description: 'Michael Flatley', clue: 'Irish-American dancer famous for Riverdance and Lord of the Dance', info: 'Irish-American dancer who revolutionized Irish traditional dance' },
                        { filename: '07 - Michael Bubble.png', description: 'Michael Bublé', clue: 'Canadian jazz singer known for crooning classics and Christmas songs', info: 'Canadian jazz and pop singer known for his smooth voice and classic interpretations' },
                        { filename: '08 - Michael Caine.png', description: 'Michael Caine', clue: 'British actor famous for "My name is Michael Caine" and countless films', info: 'Legendary British actor with a career spanning over six decades' },
                        { filename: '09 - Michael Keaton.png', description: 'Michael Keaton', clue: 'Actor who played Batman and starred in Beetlejuice', info: 'American actor known for both comedic and dramatic roles, including Batman' },
                        { filename: '10 - Michael Fish.png', description: 'Michael Fish', clue: 'BBC weather presenter famous for missing the 1987 hurricane forecast', info: 'British weather forecaster who became famous for an infamous weather prediction' },
                        { filename: '11 - Michael Schumacher.png', description: 'Michael Schumacher', clue: 'German Formula 1 legend with seven world championships', info: 'Legendary Formula 1 driver, considered one of the greatest of all time' },
                        { filename: '12 - Michael Phelps.png', description: 'Michael Phelps', clue: 'American swimmer with 23 Olympic gold medals', info: 'The most decorated Olympian of all time with 28 total Olympic medals' },
                        { filename: '13 - Michael J Fox.png', description: 'Michael J Fox', clue: 'Actor who traveled Back to the Future as Marty McFly', info: 'Canadian-American actor and advocate for Parkinson\'s disease research' },
                        { filename: '14 - Michael Philip Jagger.png', description: 'Michael Philip Jagger', clue: 'Lead singer of The Rolling Stones who can\'t get no satisfaction', info: 'Lead vocalist of The Rolling Stones, one of rock\'s most iconic frontmen' },
                        { filename: '15 - Michael John Myers.png', description: 'Michael John Myers', clue: 'Canadian comedian who created Austin Powers and Wayne\'s World', info: 'Canadian comedian and actor known for his character-based comedy' },
                        { filename: '16 - Michael Gerard Tyson.png', description: 'Michael Gerard Tyson', clue: 'Former heavyweight boxing champion known for his ferocious style', info: 'Former professional boxer, the youngest heavyweight champion in history' },
                        { filename: '17 - Michael Gambon.png', description: 'Michael Gambon', clue: 'Irish actor who played Dumbledore in the Harry Potter films', info: 'Irish actor who portrayed Albus Dumbledore in six Harry Potter films' },
                        { filename: '18 - Michael Fassbender.png', description: 'Michael Fassbender', clue: 'German-Irish actor known for X-Men and intense dramatic roles', info: 'German-Irish actor known for his intense performances in both blockbusters and art films' },
                        { filename: '19 - Michael Sheen.png', description: 'Michael Sheen', clue: 'Welsh actor famous for portraying real-life figures like Tony Blair', info: 'Welsh actor known for his portrayals of real-life personalities' },
                        { filename: '20 - Michael C Hall.png', description: 'Michael C Hall', clue: 'American actor who played Dexter Morgan in the TV series Dexter', info: 'American actor best known for his role as the titular character in Dexter' },
                        { filename: '21 - Michael Ball.png', description: 'Michael Ball', clue: 'British singer and actor known for musical theatre and radio presenting', info: 'British singer and actor, popular in musical theatre and radio' },
                        { filename: '22 - Michael James Hucknall.png', description: 'Michael James Hucknall', clue: 'Red-haired frontman of Simply Red who was "Holding Back the Years"', info: 'Lead singer of Simply Red, known for his distinctive red hair and soulful voice' },
                        { filename: '23 - Michael Bolton.png', description: 'Michael Bolton', clue: 'American singer known for romantic ballads and that distinctive mullet', info: 'American singer known for his powerful vocals and romantic ballads' },
                        { filename: '24 - Michael Crawford.png', description: 'Michael Crawford', clue: 'British actor and singer, the original Phantom of the Opera', info: 'British actor and singer who originated the role of the Phantom in The Phantom of the Opera' },
                        { filename: '25 - Michael Parkinson.png', description: 'Michael Parkinson', clue: 'Legendary British chat show host known simply as "Parky"', info: 'Legendary British broadcaster and chat show host who interviewed countless celebrities' }
                    ]
                },
                set2: {
                    title: 'OCD Famous Movie Quotes 04',
                    buttonText: 'OCD Famous Movie Quotes 04',
                    pictures: [
                        { filename: 'R02.Q01.png', description: 'Frankenstein', clue: '1931', info: 'Henry Frankenstein (Colin Clive): It's alive! It's alive!' },
                        { filename: 'R02.Q02.png', description: 'Gone with the Wind', clue: '1939', info: 'Rhett Butler (Clark Gable): Frankly, my dear, I don't give a damn.' },
                        { filename: 'R02.Q03.png', description: 'The Wizard of Oz', clue: '1939', info: 'Dorothy Gale (Judy Garland): Toto, Ive a feeling were not in Kansas anymore.' },
                        { filename: 'R02.Q04.png', description: 'Casablanca', clue: '1942', info: 'Rick Blaine (Humphrey Bogart): Here's looking at you, kid.' },
                        { filename: 'R02.Q05.png', description: 'To Have and Have Not', clue: '1944', info: 'Marie "Slim" Browning (Lauren Bacall): You know how to whistle, don't you, Steve? You just put your lips together and blow.' },
                        { filename: 'R02.Q06.png', description: 'All About Eve', clue: '1950', info: 'Margo Channing (Bette Davis): Fasten your seatbelts. It's going to be a bumpy night.' },
                        { filename: 'R02.Q07.png', description: 'A Streetcar Named Desire', clue: '1951', info: 'Blanche DuBois (Vivien Leigh): I have always depended on the kindness of strangers.' },
                        { filename: 'R02.Q08.png', description: 'Some Like It Hot', clue: '1959', info: 'Osgood Fielding III (Joe E. Brown): Well, nobody's perfect.' },
                        { filename: 'R02.Q09.png', description: 'Dr. Strangelove', clue: '1964', info: 'President Merkin Muffley (Peter Sellers): Gentlemen, you cant fight in here! This is the War Room!' },
                        { filename: 'R02.Q10.png', description: 'Cool Hand Luke', clue: '1967', info: 'Captain (Strother Martin): What we've got here is failure to communicate.' },
                        { filename: 'R02.Q11.png', description: '2001: A Space Odyssey', clue: '1968', info: 'Dave Bowman (Keir Dullea): Open the pod bay doors, HAL.' },
                        { filename: 'R02.Q12.png', description: 'Love Story', clue: '1970', info: 'Jennifer Cavalleri (Ali MacGraw): Love means never having to say you're sorry.' },
                        { filename: 'R02.Q13.png', description: 'The Godfather Part II', clue: '1974', info: 'Michael Corleone (Al Pacino): Keep your friends close, but your enemies closer.' },
                        { filename: 'R02.Q14.png', description: 'Rocky', clue: '1976', info: 'Rocky Balboa (Sylvester Stallone): Yo, Adrian!' },
                        { filename: 'R02.Q15.png', description: 'National Lampoon's Animal House', clue: '1978', info: 'John "Bluto" Blutarsky (John Belushi): Toga! Toga!' },
                        { filename: 'R02.Q16.png', description: 'E.T. the Extra-Terrestrial', clue: '1982', info: 'E.T. (Pat Welsh): E.T. phone home.' },
                        { filename: 'R02.Q17.png', description: 'The Terminator', clue: '1984', info: 'The Terminator (Arnold Schwarzenegger): I'll be back.' },
                        { filename: 'R02.Q18.png', description: 'The Princess Bride', clue: '1987', info: 'Inigo Montoya (Mandy Patinkin): My name is Inigo Montoya. You killed my father. Prepare to die.' },
                        { filename: 'R02.Q19.png', description: 'Field of Dreams', clue: '1989', info: 'Shoeless Joe Jackson (Ray Liotta): If you build it, he will come.' },
                        { filename: 'R02.Q20.png', description: 'The Silence of the Lambs', clue: '1991', info: 'Hannibal Lecter (Anthony Hopkins): A census taker once tried to test me. I ate his liver with some fava beans and a nice Chianti.' },
                        { filename: 'R02.Q21.png', description: 'Pulp Fiction', clue: '1994', info: 'Jules (Samuel L. Jackson): English, motherfucker! Do you speak it?' },
                        { filename: 'R02.Q22.png', description: 'Jerry Maguire', clue: '1996', info: 'Dorothy Boyd (Renée Zellweger): You had me at Hello.' },
                        { filename: 'R02.Q23.png', description: 'American Pie', clue: '1999', info: 'Michelle (Alyson Hannigan): This one time at band camp…' },
                        { filename: 'R02.Q24.png', description: 'Mean Girls', clue: '2004', info: 'Gretchen Weiners (Lacey Chabert): You cant sit with us!' },
                        { filename: 'R02.Q25.png', description: 'The Dark Knight', clue: '2008', info: 'The Joker (Heath Ledge): Why so serious?' }

                    ]
                }
            }
        };
        
        /* ===================================================== */
        /*                🔧 SYSTEM CODE BELOW                  */
        /*            (No need to modify this part)             */
        /* ===================================================== */

        /* ===================================================== */
        /*                   GLOBAL VARIABLES                   */
        /* ===================================================== */
        let currentSlide = 1;           // Current slide index
        let activeSet = null;           // Currently active set ('set1' or 'set2')
        let isRevealed = false;         // Whether answers are revealed based on date
        let touchStartX = 0;            // Touch start X coordinate for swipe detection
        let touchEndX = 0;              // Touch end X coordinate for swipe detection
        let isSwiping = false;          // Whether user is currently swiping
        let isDragging = false;         // Whether user is currently dragging
        let isFullscreenOpen = false;   // Track if fullscreen is currently open

        /* ===================================================== */
        /*                 NAVIGATION FUNCTIONS                  */
        /* ===================================================== */
        
        /**
         * Show the main menu and hide all other sections
         */
        function showMainMenu() {
            // Hide all slideshow and instruction sections
            document.querySelectorAll('.slideshow-section, .instructions-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show main menu
            document.getElementById('main-menu').classList.remove('hidden');
            activeSet = null;
            currentSlide = 1;
        }

        /**
         * Show instructions page for specified set
         * @param {string} setId - The set identifier ('set1' or 'set2')
         */
        function showInstructions(setId) {
            // Hide main menu
            document.getElementById('main-menu').classList.add('hidden');
            
            // Hide all other sections
            document.querySelectorAll('.slideshow-section, .instructions-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected instructions
            document.getElementById(`instructions-${setId}`).classList.remove('hidden');
            activeSet = setId;
        }

        /**
         * Start slideshow for specified set
         * @param {string} setId - The set identifier ('set1' or 'set2')
         */
        function startSlideshow(setId) {
            // Hide all other sections
            document.querySelectorAll('.slideshow-section, .instructions-section').forEach(section => {
                section.classList.add('hidden');
            });
            
            // Show selected slideshow
            document.getElementById(`slideshow-${setId}`).classList.remove('hidden');
            activeSet = setId;
            
            // Initialize the slideshow if it hasn't been created yet
            const setNumber = setId === 'set1' ? '1' : '2';
            const slidesContainer = document.getElementById(`slides-container${setNumber}`);
            if (!slidesContainer.children.length) {
                createSlides(setId);
            }
            
            showSlide(1);
            hideSwipeIndicator(setId);
        }

        /**
         * Download PDF file from GitHub repository
         */
        function downloadPDF() {
            const pdfUrl = CONFIG.githubBaseUrl + CONFIG.pdfFileName;
            const link = document.createElement('a');
            link.href = pdfUrl;
            link.download = CONFIG.pdfFileName;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        /* ===================================================== */
        /*                   MODAL FUNCTIONS                    */
        /* ===================================================== */
        
        /**
         * Show clue modal for specified slide
         * @param {number} slideIndex - Index of the slide
         */
        function showClue(slideIndex) {
            if (!activeSet) return;
            
            const pictures = CONFIG.collections[activeSet].pictures;
            const picture = pictures[slideIndex];
            
            if (picture && picture.clue) {
                showModal('clue', 'Clue', picture.clue);
            }
        }

        /**
         * Show answer modal for specified slide
         * @param {number} slideIndex - Index of the slide
         */
        function showAnswer(slideIndex) {
            if (!activeSet) return;
            
            const pictures = CONFIG.collections[activeSet].pictures;
            const picture = pictures[slideIndex];
            
            if (!picture) return;
            
            checkRevealDate();
            
            if (isRevealed) {
                showModal('answer', 'Answer', picture.description, picture.info);
            } else {
                const revealDate = new Date(CONFIG.revealDateTime);
                const formattedDate = revealDate.toLocaleString();
                showModal('answer', 'Answer Not Yet Available', `Answers will be revealed on ${formattedDate}`);
            }
        }

        /**
         * Display modal with specified content
         * @param {string} type - Modal type ('clue' or 'answer')
         * @param {string} title - Modal title
         * @param {string} text - Modal text content
         * @param {string} info - Additional info (optional)
         */
        function showModal(type, title, text, info = null) {
            const modal = document.getElementById('modal');
            const modalTitle = document.getElementById('modal-title');
            const modalText = document.getElementById('modal-text');
            const modalInfo = document.getElementById('modal-info');
            
            // Set title with appropriate icon
            const iconSvg = type === 'clue' 
                ? '<svg viewBox="0 0 24 24"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"/></svg>'
                : '<svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>';
            
            modalTitle.innerHTML = `${iconSvg} ${title}`;
            modalTitle.className = `modal-title ${type}-title`;
            
            // Set text content and styling
            modalText.textContent = text;
            modalText.className = type === 'answer' && isRevealed ? 'modal-text answer-text' : 'modal-text';
            
            // Handle info section
            if (info && type === 'answer' && isRevealed) {
                modalInfo.textContent = info;
                modalInfo.style.display = 'block';
            } else {
                modalInfo.style.display = 'none';
            }
            
            modal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }

        /**
         * Close the modal
         */
        function closeModal() {
            const modal = document.getElementById('modal');
            modal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }

        /**
         * Check if any modal is currently open
         * @returns {boolean} True if modal is open
         */
        function isModalOpen() {
            const modal = document.getElementById('modal');
            return modal && modal.style.display === 'flex';
        }

        /* ===================================================== */
        /*               CORE SLIDESHOW FUNCTIONS               */
        /* ===================================================== */
        
        /**
         * Check if answers should be revealed based on configured date/time
         */
        function checkRevealDate() {
            const now = new Date();
            const revealDate = new Date(CONFIG.revealDateTime);
            isRevealed = now >= revealDate;
        }

        /**
         * Create slides for specified set
         * @param {string} setId - The set identifier
         */
        function createSlides(setId) {
            const setNumber = setId === 'set1' ? '1' : '2';
            const pictures = CONFIG.collections[setId].pictures;
            const slidesContainer = document.getElementById(`slides-container${setNumber}`);
            const dotsContainer = document.getElementById(`dots-container${setNumber}`);
            
            // Update total slides counter
            document.getElementById(`total-slides${setNumber}`).textContent = pictures.length;
            
            // Clear existing content
            slidesContainer.innerHTML = '';
            dotsContainer.innerHTML = '';
            
            pictures.forEach((picture, index) => {
                // Create slide element
                const slide = document.createElement('div');
                slide.className = 'slide';
                
                // Create clue button HTML (only if clue exists)
                const clueButtonHTML = picture.clue ? 
                    `<button class="clue-btn" onclick="showClue(${index})" title="Get a clue">
                        <svg viewBox="0 0 24 24">
                            <path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"/>
                        </svg>
                    </button>` : '';
                
                // Build slide HTML
                slide.innerHTML = `
                    ${clueButtonHTML}
                    <div class="slide-number">${index + 1} / ${pictures.length}</div>
                    <div class="slide-image-container">
                        <img src="${CONFIG.githubBaseUrl}${picture.filename}" 
                             alt="Picture ${index + 1}" 
                             onclick="openFullscreen(this)"
                             loading="lazy"
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjMwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlICR7aW5kZXggKyAxfTwvdGV4dD48L3N2Zz4='">
                    </div>
                    <div class="slide-bottom-section">
                        <button class="answer-btn" onclick="showAnswer(${index})">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/>
                            </svg>
                            Show Answer
                        </button>
                    </div>
                `;
                slidesContainer.appendChild(slide);
                
                // Create navigation dot
                const dot = document.createElement('span');
                dot.className = `dot ${index === 0 ? 'active' : ''}`;
                dot.onclick = () => showSlide(index + 1);
                dotsContainer.appendChild(dot);
            });
        }

        /**
         * Show specific slide by number
         * @param {number} n - Slide number to show
         */
        function showSlide(n) {
            if (!activeSet) return;
            
            const setNumber = activeSet === 'set1' ? '1' : '2';
            const pictures = CONFIG.collections[activeSet].pictures;
            const slides = document.querySelectorAll(`#slides-container${setNumber} .slide`);
            const dots = document.querySelectorAll(`#dots-container${setNumber} .dot`);
            const slidesContainer = document.getElementById(`slides-container${setNumber}`);
            
            // Handle slide boundaries
            if (n > slides.length) currentSlide = 1;
            else if (n < 1) currentSlide = slides.length;
            else currentSlide = n;
            
            // Apply transform to show current slide
            const translateX = -(currentSlide - 1) * 100;
            slidesContainer.style.transform = `translateX(${translateX}%)`;
            
            // Update active dot
            dots.forEach(dot => dot.classList.remove('active'));
            if (dots[currentSlide - 1]) {
                dots[currentSlide - 1].classList.add('active');
            }
            
            // Update slide counter
            document.getElementById(`current-slide${setNumber}`).textContent = currentSlide;
            
            // Update navigation button states
            document.getElementById(`prevBtn${setNumber}`).disabled = currentSlide === 1;
            document.getElementById(`nextBtn${setNumber}`).disabled = currentSlide === slides.length;
        }

        /**
         * Change slide by relative amount
         * @param {number} n - Number of slides to move (+1 for next, -1 for previous)
         */
        function changeSlide(n) {
            if (isDragging || !activeSet || isFullscreenOpen) return;
            showSlide(currentSlide + n);
        }

        /* ===================================================== */
        /*                TOUCH/SWIPE HANDLING                  */
        /* ===================================================== */
        
        /**
         * Handle touch start event for swipe detection
         * @param {TouchEvent} e - Touch event
         */
        function handleTouchStart(e) {
            // Don't handle swipes when fullscreen is open or no active set
            if (!activeSet || isFullscreenOpen) return;
            
            touchStartX = e.touches[0].clientX;
            touchEndX = touchStartX;
            isDragging = true;
            isSwiping = false;
        }

        /**
         * Handle touch move event for swipe detection and visual feedback
         * @param {TouchEvent} e - Touch event
         */
        function handleTouchMove(e) {
            // Don't handle swipes when fullscreen is open or not dragging
            if (!isDragging || !activeSet || isFullscreenOpen) return;
            
            e.preventDefault();
            
            touchEndX = e.touches[0].clientX;
            const dragDistance = touchEndX - touchStartX;
            const currentTranslate = -(currentSlide - 1) * 100;
            const dragPercent = (dragDistance / window.innerWidth) * 100;
            const newTranslate = currentTranslate + dragPercent;
            
            // Apply visual feedback during drag
            const setNumber = activeSet === 'set1' ? '1' : '2';
            const slidesContainer = document.getElementById(`slides-container${setNumber}`);
            slidesContainer.style.transition = 'none';
            slidesContainer.style.transform = `translateX(${newTranslate}%)`;
        }

        /**
         * Handle touch end event to complete swipe action
         * @param {TouchEvent} e - Touch event
         */
        function handleTouchEnd(e) {
            // Don't handle swipes when fullscreen is open or not dragging
            if (!isDragging || !activeSet || isFullscreenOpen) return;
            
            isDragging = false;
            const setNumber = activeSet === 'set1' ? '1' : '2';
            const slidesContainer = document.getElementById(`slides-container${setNumber}`);
            slidesContainer.style.transition = 'transform 0.3s ease-out';
            
            // Determine if swipe was significant enough to change slide
            const swipeDistance = touchStartX - touchEndX;
            const swipeThreshold = 50;
            
            if (Math.abs(swipeDistance) > swipeThreshold) {
                if (swipeDistance > 0 && currentSlide < CONFIG.collections[activeSet].pictures.length) {
                    currentSlide++;
                } else if (swipeDistance < 0 && currentSlide > 1) {
                    currentSlide--;
                }
            }
            
            showSlide(currentSlide);
            
            // Reset touch coordinates
            touchStartX = 0;
            touchEndX = 0;
        }

        /* ===================================================== */
        /*                FULLSCREEN FUNCTIONS                  */
        /* ===================================================== */
        
        /**
         * Open image in fullscreen mode with zoom capability
         * @param {HTMLImageElement} img - Image element to show fullscreen
         */
        function openFullscreen(img) {
            const overlay = document.getElementById('fullscreen-overlay');
            const fullscreenImg = document.getElementById('fullscreen-image');
            
            // Set image source and properties
            fullscreenImg.src = img.src;
            fullscreenImg.alt = img.alt;
            
            // Show overlay and disable background scrolling
            overlay.style.display = 'block';
            document.body.style.overflow = 'hidden';
            
            // Mark fullscreen as open to disable swipe handling
            isFullscreenOpen = true;
        }

        /**
         * Close fullscreen image viewer
         */
        function closeFullscreen() {
            const overlay = document.getElementById('fullscreen-overlay');
            overlay.style.display = 'none';
            document.body.style.overflow = 'auto';
            
            // Re-enable swipe handling
            isFullscreenOpen = false;
        }

        /* ===================================================== */
        /*                 UTILITY FUNCTIONS                    */
        /* ===================================================== */
        
        /**
         * Hide swipe indicator after delay
         * @param {string} setId - Set identifier
         */
        function hideSwipeIndicator(setId) {
            const setNumber = setId === 'set1' ? '1' : '2';
            const indicator = document.getElementById(`swipeIndicator${setNumber}`);
            setTimeout(() => {
                if (indicator) {
                    indicator.style.opacity = '0';
                    setTimeout(() => {
                        indicator.style.display = 'none';
                    }, 1000);
                }
            }, 4000);
        }

        /**
         * Initialize menu buttons with configured text and functionality
         */
        function initializeMenuButtons() {
            const menuButtons = document.querySelectorAll('.menu-btn');
            
            // Update first two buttons with collection names
            menuButtons.forEach((button, index) => {
                if (index < 2) {
                    const setKey = index === 0 ? 'set1' : 'set2';
                    button.textContent = CONFIG.collections[setKey].buttonText;
                }
            });
            
            // Update slideshow titles
            document.querySelector('#slideshow-set1 .slideshow-title').textContent = CONFIG.collections.set1.title;
            document.querySelector('#slideshow-set2 .slideshow-title').textContent = CONFIG.collections.set2.title;
            
            // Initialize instruction pages with dynamic content
            initializeInstructionPages();
        }

        /**
         * Initialize instruction pages with content from CONFIG
         */
        function initializeInstructionPages() {
            // Update instruction page content dynamically from CONFIG
            Object.keys(CONFIG.instructions).forEach(setKey => {
                const instructionData = CONFIG.instructions[setKey];
                const instructionPage = document.getElementById(`instructions-${setKey}`);
                
                if (instructionPage && instructionData) {
                    // Update title
                    const titleEl = instructionPage.querySelector('.instructions-title');
                    if (titleEl) titleEl.textContent = instructionData.title;
                    
                    // Update content sections
                    const contentEl = instructionPage.querySelector('.instructions-content');
                    if (contentEl && instructionData.content) {
                        let htmlContent = '';
                        
                        Object.keys(instructionData.content).forEach(sectionKey => {
                            const sectionTitle = sectionKey.replace(/([A-Z])/g, ' $1')
                                .replace(/^./, str => str.toUpperCase());
                            htmlContent += `<h3>${sectionTitle}:</h3><ul>`;
                            
                            instructionData.content[sectionKey].forEach(item => {
                                htmlContent += `<li>${item}</li>`;
                            });
                            
                            htmlContent += '</ul>';
                        });
                        
                        contentEl.innerHTML = htmlContent;
                    }
                }
            });
        }

        /* ===================================================== */
        /*                  EVENT LISTENERS                     */
        /* ===================================================== */
        
        /**
         * Keyboard navigation handler
         */
        document.addEventListener('keydown', (e) => {
            // Handle modal-specific keys
            if (isModalOpen() || isFullscreenOpen) {
                if (e.key === 'Escape') {
                    closeFullscreen();
                    closeModal();
                }
                return; // Don't allow other keyboard actions when modal/fullscreen is open
            }
            
            // Handle slideshow navigation
            if (activeSet) {
                if (e.key === 'ArrowLeft') changeSlide(-1);
                if (e.key === 'ArrowRight') changeSlide(1);
            }
            
            // Global escape key handling
            if (e.key === 'Escape') {
                if (activeSet) showMainMenu();
            }
        });

        /**
         * Touch event listeners for swipe handling
         * Note: These are set to passive:false for touchmove to allow preventDefault
         */
        document.addEventListener('touchstart', handleTouchStart, { passive: true });
        document.addEventListener('touchmove', handleTouchMove, { passive: false });
        document.addEventListener('touchend', handleTouchEnd, { passive: true });

        /**
         * Prevent fullscreen close when clicking on the image itself
         */
        document.getElementById('fullscreen-image').addEventListener('click', (e) => {
            e.stopPropagation();
        });

        /**
         * Prevent context menu on long press for images
         */
        document.addEventListener('contextmenu', (e) => {
            if (e.target.tagName === 'IMG') {
                e.preventDefault();
            }
        });

        /**
         * Handle fullscreen overlay touch events to prevent slide navigation
         */
        document.getElementById('fullscreen-overlay').addEventListener('touchstart', (e) => {
            e.stopPropagation();
        }, { passive: true });

        document.getElementById('fullscreen-overlay').addEventListener('touchmove', (e) => {
            e.stopPropagation();
        }, { passive: true });

        document.getElementById('fullscreen-overlay').addEventListener('touchend', (e) => {
            e.stopPropagation();
        }, { passive: true });

        /* ===================================================== */
        /*                   INITIALIZATION                     */
        /* ===================================================== */
        
        // Check reveal date status on page load
        checkRevealDate();
        
        // Initialize menu buttons and content
        initializeMenuButtons();
        
        // Show main menu on page load
        showMainMenu();
        
        // Check for reveal date every minute
        setInterval(() => {
            checkRevealDate();
        }, 60000);
    </script>
</body>
</html>

